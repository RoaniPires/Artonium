# ====================================================
# DOCKERFILE PARA DESENVOLVIMENTO COM HOT RELOAD
# ====================================================
# Este Dockerfile Ã© otimizado para desenvolvimento, nÃ£o para produÃ§Ã£o

FROM mcr.microsoft.com/dotnet/sdk:8.0
WORKDIR /app

# Instalar dotnet watch (ferramenta de hot reload)
RUN dotnet tool install --global dotnet-watch
ENV PATH="$PATH:/root/.dotnet/tools"

# Copiar apenas o arquivo de projeto primeiro (para cache de dependÃªncias)
COPY *.csproj ./
RUN dotnet restore

# Expor as portas
EXPOSE 80
EXPOSE 443

# ðŸ”¥ COMANDO COM HOT RELOAD
# dotnet watch vai monitorar mudanÃ§as nos arquivos e recompilar automaticamente
CMD ["dotnet", "watch", "run", "--urls", "http://0.0.0.0:80"]
